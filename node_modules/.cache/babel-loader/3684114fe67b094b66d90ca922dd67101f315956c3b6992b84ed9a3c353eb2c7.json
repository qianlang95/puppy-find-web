{"ast":null,"code":"var _jsxFileName = \"/Users/silvaliao/Desktop/puppy-find-web/src/Profile/Following.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Following = ({\n  followingList,\n  setFollowingList,\n  currentUserId\n}) => {\n  const handleFollow = followUserId => {\n    axios.post('http://localhost:3001/follow', {\n      currentUserId,\n      followUserId\n    }).then(response => {\n      // 直接更新状态\n      updateFollowingList(followUserId, true);\n    }).catch(error => {\n      console.error('Error in follow:', error);\n    });\n  };\n  const handleUnfollow = unfollowUserId => {\n    axios.post('http://localhost:3001/unfollow', {\n      currentUserId,\n      unfollowUserId\n    }).then(response => {\n      // 直接更新状态\n      updateFollowingList(unfollowUserId, false);\n    }).catch(error => {\n      console.error('Error in unfollow:', error);\n    });\n  };\n  const updateFollowingList = (userId, isFollowing) => {\n    const updatedList = followingList.map(user => {\n      if (user.userID === userId) {\n        return {\n          ...user,\n          isFollowing\n        };\n      }\n      return user;\n    });\n    setFollowingList(updatedList);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: followingList.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), currentUserId !== user.userID && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => user.isFollowing ? handleUnfollow(user.userID) : handleFollow(user.userID),\n        children: user.isFollowing ? 'Unfollow' : 'Follow'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this)]\n    }, user.userID, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n_c = Following;\nexport default Following;\nvar _c;\n$RefreshReg$(_c, \"Following\");","map":{"version":3,"names":["React","axios","jsxDEV","_jsxDEV","Following","followingList","setFollowingList","currentUserId","handleFollow","followUserId","post","then","response","updateFollowingList","catch","error","console","handleUnfollow","unfollowUserId","userId","isFollowing","updatedList","map","user","userID","children","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/silvaliao/Desktop/puppy-find-web/src/Profile/Following.jsx"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nconst Following = ({ followingList, setFollowingList, currentUserId }) => {\n    const handleFollow = (followUserId) => {\n        axios.post('http://localhost:3001/follow', { currentUserId, followUserId })\n            .then(response => {\n                // 直接更新状态\n                updateFollowingList(followUserId, true);\n            })\n            .catch(error => {\n                console.error('Error in follow:', error);\n            });\n    };\n\n    const handleUnfollow = (unfollowUserId) => {\n        axios.post('http://localhost:3001/unfollow', { currentUserId, unfollowUserId })\n            .then(response => {\n                // 直接更新状态\n                updateFollowingList(unfollowUserId, false);\n            })\n            .catch(error => {\n                console.error('Error in unfollow:', error);\n            });\n    };\n\n    const updateFollowingList = (userId, isFollowing) => {\n        const updatedList = followingList.map(user => {\n            if (user.userID === userId) {\n                return { ...user, isFollowing };\n            }\n            return user;\n        });\n        setFollowingList(updatedList);\n    };\n\n    return (\n        <div>\n            {followingList.map(user => (\n                <div key={user.userID}>\n                    <span>{user.name}</span>\n                    {currentUserId !== user.userID && (\n                        <button onClick={() => user.isFollowing ? handleUnfollow(user.userID) : handleFollow(user.userID)}>\n                            {user.isFollowing ? 'Unfollow' : 'Follow'}\n                        </button>\n                    )}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Following;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,SAAS,GAAGA,CAAC;EAAEC,aAAa;EAAEC,gBAAgB;EAAEC;AAAc,CAAC,KAAK;EACtE,MAAMC,YAAY,GAAIC,YAAY,IAAK;IACnCR,KAAK,CAACS,IAAI,CAAC,8BAA8B,EAAE;MAAEH,aAAa;MAAEE;IAAa,CAAC,CAAC,CACtEE,IAAI,CAACC,QAAQ,IAAI;MACd;MACAC,mBAAmB,CAACJ,YAAY,EAAE,IAAI,CAAC;IAC3C,CAAC,CAAC,CACDK,KAAK,CAACC,KAAK,IAAI;MACZC,OAAO,CAACD,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC5C,CAAC,CAAC;EACV,CAAC;EAED,MAAME,cAAc,GAAIC,cAAc,IAAK;IACvCjB,KAAK,CAACS,IAAI,CAAC,gCAAgC,EAAE;MAAEH,aAAa;MAAEW;IAAe,CAAC,CAAC,CAC1EP,IAAI,CAACC,QAAQ,IAAI;MACd;MACAC,mBAAmB,CAACK,cAAc,EAAE,KAAK,CAAC;IAC9C,CAAC,CAAC,CACDJ,KAAK,CAACC,KAAK,IAAI;MACZC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;EACV,CAAC;EAED,MAAMF,mBAAmB,GAAGA,CAACM,MAAM,EAAEC,WAAW,KAAK;IACjD,MAAMC,WAAW,GAAGhB,aAAa,CAACiB,GAAG,CAACC,IAAI,IAAI;MAC1C,IAAIA,IAAI,CAACC,MAAM,KAAKL,MAAM,EAAE;QACxB,OAAO;UAAE,GAAGI,IAAI;UAAEH;QAAY,CAAC;MACnC;MACA,OAAOG,IAAI;IACf,CAAC,CAAC;IACFjB,gBAAgB,CAACe,WAAW,CAAC;EACjC,CAAC;EAED,oBACIlB,OAAA;IAAAsB,QAAA,EACKpB,aAAa,CAACiB,GAAG,CAACC,IAAI,iBACnBpB,OAAA;MAAAsB,QAAA,gBACItB,OAAA;QAAAsB,QAAA,EAAOF,IAAI,CAACG;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,EACvBvB,aAAa,KAAKgB,IAAI,CAACC,MAAM,iBAC1BrB,OAAA;QAAQ4B,OAAO,EAAEA,CAAA,KAAMR,IAAI,CAACH,WAAW,GAAGH,cAAc,CAACM,IAAI,CAACC,MAAM,CAAC,GAAGhB,YAAY,CAACe,IAAI,CAACC,MAAM,CAAE;QAAAC,QAAA,EAC7FF,IAAI,CAACH,WAAW,GAAG,UAAU,GAAG;MAAQ;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC,CACX;IAAA,GANKP,IAAI,CAACC,MAAM;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAOhB,CACR;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAACE,EAAA,GA/CI5B,SAAS;AAiDf,eAAeA,SAAS;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}